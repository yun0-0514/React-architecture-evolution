# ReactV4.5 프로젝트 기능 명세서

## 📋 프로젝트 개요

**프로젝트명**: ReactV4.5  
**기술 스택**: React 19, TypeScript, Vite, TanStack Query, React Hook Form  
**서버**: JSON Server (포트 4000)  
**빌드 도구**: Vite  
**스타일링**: Tailwind CSS, SCSS Modules

---

## 🎯 주요 기능

### 1. 회원 관리 시스템 (Home Page)

#### 1.1 회원 목록 조회

- **경로**: `/`
- **기능**:
  - 등록된 모든 회원 정보를 카드 형식으로 표시
  - 로딩 상태 처리 (로딩 중 메시지 표시)
  - 각 회원 카드에 편집 버튼 제공

#### 1.2 회원 등록

- **기능**:
  - 이름, 연락처, 생년월일 입력 폼 제공
  - React Hook Form을 통한 폼 관리 및 유효성 검증
- **유효성 검증 규칙**:

  - **이름**: 필수 입력, 최소 2자 이상
  - **연락처**: 필수 입력, 형식 검증 (`010-0000-0000`)
  - **생년월일**: 필수 입력, date 타입

- **처리 흐름**:
  1. 폼 데이터 입력 및 검증
  2. API 요청 (`POST /members`)
  3. Context를 통한 전역 상태 업데이트
  4. 성공/실패 알림 표시
  5. 폼 초기화

#### 1.3 회원 정보 수정

- **기능**:
  - 회원 카드의 편집 버튼 클릭 시 해당 회원 정보를 폼에 자동 입력
  - 수정 후 제출 시 해당 회원 정보 업데이트
- **처리 흐름**:
  1. 회원 선택 시 폼에 데이터 자동 바인딩
  2. 수정된 데이터 검증
  3. API 요청 (`PATCH /members/:id`)
  4. Context를 통한 전역 상태 업데이트
  5. 성공/실패 알림 표시
  6. 선택 상태 해제 및 폼 초기화

#### 1.4 회원 삭제

- **기능**:
  - 회원 카드에서 삭제 버튼 클릭 시 삭제
  - 삭제 전 확인 모달 표시
- **처리 흐름**:
  1. 삭제 확인 다이얼로그 표시
  2. 확인 시 API 요청 (`DELETE /members/:id`)
  3. Context를 통한 전역 상태 업데이트
  4. 성공/실패 알림 표시

---

### 2. 상품 관리 시스템 (Product Page)

#### 2.1 상품 목록 조회

- **경로**: `/products`
- **기능**:
  - 등록된 모든 상품을 카드 형식으로 표시
  - 그리드 레이아웃 (2열)
  - 로딩 상태 처리 (Skeleton UI 8개 표시)
  - 검색 결과가 없을 경우 안내 메시지 표시

#### 2.2 상품 검색

- **검색 조건**:

  - **상품명** (name)
  - **회사** (company)
  - **카테고리** (category)

- **검색 기능**:

  - 검색어 입력 시 실시간 필터링
  - URL 쿼리 파라미터 기반 검색 상태 관리
  - Debounce 적용 (500ms) - 불필요한 API 호출 최소화
  - 검색어 없을 시 전체 상품 표시

- **처리 흐름**:
  1. 필터 타입 선택 (상품명/회사/카테고리)
  2. 검색어 입력
  3. Debounce 처리 (500ms 대기)
  4. URL 쿼리 파라미터 업데이트
  5. TanStack Query를 통한 데이터 페칭
  6. 이전 데이터 유지 (keepPreviousData) - 부드러운 UI 전환
  7. 결과 표시

#### 2.3 상품 카드 표시

- **표시 정보**:
  - 상품 이미지 (ProductCard 컴포넌트)
  - 상품명, 회사, 카테고리 등

---

## 🏗️ 아키텍처 구조

### 3.1 전역 상태 관리

- **Context API 사용**: `MemberContext`

  - 회원 목록 데이터를 전역으로 관리
  - Reducer 패턴을 통한 상태 업데이트
  - 초기화(INIT), 생성(CREATE), 수정(UPDATE), 삭제(DELETE) 액션 지원

- **액션 타입**:
  - `INIT`: 초기 데이터 로드
  - `CREATE`: 새 회원 추가
  - `UPDATE`: 기존 회원 정보 수정
  - `DELETE`: 회원 삭제

### 3.2 서버 상태 관리

- **TanStack Query (React Query) 사용**:
  - 상품 데이터 캐싱 및 관리
  - `staleTime`: 1분 (캐시 유효 시간)
  - `placeholderData`: keepPreviousData (이전 데이터 유지)
  - 자동 백그라운드 리페칭
  - 로딩/에러 상태 자동 관리

### 3.3 라우팅

- **React Router DOM v7**:
  - `/` - 홈(회원 관리)
  - `/products` - 상품 관리
  - Layout 컴포넌트를 통한 공통 레이아웃 적용

---

## 🔧 커스텀 훅

### 4.1 데이터 관리 훅

#### `useFetch`

- 범용 데이터 페칭 훅
- 로딩, 에러, 데이터 상태 관리

#### `useMemberState`

- Context에서 회원 상태 조회
- `useMemberInfo`: 회원 목록과 로딩 상태 반환

#### `useMemberAction`

- 회원 삭제 액션 처리
- 삭제 확인 다이얼로그 포함

#### `useProduct`

- 상품 데이터 페칭 및 검색
- URL 쿼리 파라미터 기반 검색 조건 관리
- TanStack Query 통합

### 4.2 유틸리티 훅

#### `useDebounce`

- 제네릭 타입 지원
- 입력값 지연 처리 (기본 500ms)
- 검색 성능 최적화

#### `useSearchHandlers`

- 검색 폼 상태 관리
- 필터 타입 및 검색어 변경 핸들러
- 검색 콜백 실행

---

## 📡 API 통신

### 5.1 API Client

- **베이스 URL**: `http://localhost:4000`
- **공통 헤더**: `Content-Type: application/json`
- 타입 안전성을 위한 제네릭 API 클라이언트
- 에러 핸들링 포함

### 5.2 Members API

| 메서드 | 엔드포인트     | 기능           | 파라미터                |
| ------ | -------------- | -------------- | ----------------------- |
| GET    | `/members`     | 전체 회원 조회 | -                       |
| POST   | `/members`     | 회원 등록      | `Member` 객체           |
| PATCH  | `/members/:id` | 회원 수정      | `id`, `Partial<Member>` |
| DELETE | `/members/:id` | 회원 삭제      | `id`                    |

### 5.3 Products API

| 메서드 | 엔드포인트                              | 기능      | 파라미터                |
| ------ | --------------------------------------- | --------- | ----------------------- |
| GET    | `/products`                             | 상품 조회 | -                       |
| GET    | `/products?{filterType}_like={keyword}` | 상품 검색 | `filterType`, `keyword` |

**검색 쿼리 예시**:

- `?name_like=phone` - 상품명에 "phone" 포함
- `?company_like=apple` - 회사명에 "apple" 포함
- `?category_like=전자` - 카테고리에 "전자" 포함

---

## 🎨 UI 컴포넌트

### 6.1 레이아웃 컴포넌트

#### `Layout`

- 공통 페이지 레이아웃
- 네비게이션 메뉴 포함
- Outlet을 통한 하위 라우트 렌더링

### 6.2 회원 관리 컴포넌트

#### `Form`

- 회원 등록/수정 폼
- React Hook Form 통합
- 실시간 유효성 검증 및 에러 메시지 표시
- 선택된 회원 정보 자동 바인딩

#### `InfoCard`

- 회원 정보 카드
- 편집 및 삭제 버튼 제공
- 회원 데이터 표시

### 6.3 상품 관리 컴포넌트

#### `SearchBar`

- 검색 입력 폼
- 필터 타입 선택 (상품명/회사/카테고리)
- 검색어 입력
- 반응형 디자인

#### `ProductCard`

- 상품 정보 카드
- 이미지 및 상세 정보 표시
- 그리드 레이아웃에 최적화

#### `ProductSkeleton`

- 로딩 중 표시되는 Skeleton UI
- 상품 카드 크기와 동일한 플레이스홀더

---

## 📦 타입 정의

### 7.1 Member Types

```typescript
interface Member {
  id?: string | number;
  name: string;
  phone: string;
  birth: string;
}
```

### 7.2 Product Types

```typescript
interface Product {
  id: string | number;
  name: string;
  company: string;
  category: string;
  // 기타 필드...
}

interface ProductSearchCondition {
  filterType: "name" | "company" | "category";
  keyword: string;
}
```

---

## 🚀 실행 방법

### 개발 서버 실행

```bash
# 프론트엔드 개발 서버
npm run dev

# JSON Server (백엔드 목업)
npm run server
```

### 빌드

```bash
npm run build
```

### 타입 체크

```bash
npm run type-check
```

---

## 🔑 핵심 기술 특징

### 1. 타입 안전성

- TypeScript를 통한 완전한 타입 지원
- API 응답, 컴포넌트 Props, 훅 반환값 모두 타입 정의

### 2. 성능 최적화

- Debounce를 통한 검색 최적화
- TanStack Query의 캐싱 전략
- keepPreviousData로 부드러운 UI 전환
- Skeleton UI를 통한 로딩 UX 개선

### 3. 상태 관리 전략

- Context API: 회원 데이터 (클라이언트 상태)
- TanStack Query: 상품 데이터 (서버 상태)
- 적재적소에 맞는 상태 관리 도구 활용

### 4. 모던 React 패턴

- Custom Hooks를 통한 로직 재사용
- React Hook Form을 통한 폼 관리
- Reducer 패턴을 통한 복잡한 상태 관리

### 5. 개발 경험

- Vite를 통한 빠른 HMR
- SCSS Modules를 통한 스타일 스코핑
- Tailwind CSS를 통한 유틸리티 우선 스타일링

---

## 📁 프로젝트 구조 요약

```
ReactV4.5/
├── src/
│   ├── api/           # API 통신 레이어
│   ├── components/    # 재사용 가능한 UI 컴포넌트
│   ├── contexts/      # Context API 전역 상태
│   ├── hooks/         # 커스텀 훅
│   ├── pages/         # 페이지 컴포넌트
│   ├── types/         # TypeScript 타입 정의
│   └── utils/         # 유틸리티 함수
├── db.Json            # JSON Server 데이터베이스
└── 설정 파일들        # TypeScript, Vite, ESLint 등
```

---

## 🎓 학습 포인트

이 프로젝트는 다음과 같은 현대적인 React 개발 패턴을 학습할 수 있습니다:

1. **타입스크립트와 React의 통합**
2. **서버 상태와 클라이언트 상태의 분리**
3. **커스텀 훅을 통한 로직 추상화**
4. **선언적 UI 프로그래밍**
5. **성능 최적화 기법**
6. **폼 유효성 검증 패턴**
7. **실시간 검색 구현**

---

_마지막 업데이트: 2026년 1월 7일_
