# ğŸš€ ReactV1: ì»¤ìŠ¤í…€ í›… ê¸°ë°˜ ëª¨ë“ˆì‹ ì•„í‚¤í…ì²˜ ì„¤ê³„

> **"ì»´í¬ë„ŒíŠ¸ëŠ” UIë§Œ ë‹´ë‹¹í•˜ê³ , ë¡œì§ì€ í›…ì´ ë‹´ë‹¹í•œë‹¤."** > ì»¤ìŠ¤í…€ í›…ì„ í™œìš©í•˜ì—¬ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ê³ , í™•ì¥ì„± ìˆëŠ” ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ êµ¬ì¶•í•œ ë¦¬ì•¡íŠ¸ ì•„í‚¤í…ì²˜ ì´ˆì•ˆì…ë‹ˆë‹¤.

## ğŸ¯ ì„¤ê³„ ëª©í‘œ

- **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (SoC)**: UI, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë°ì´í„° ë ˆì´ì–´ì˜ ì—­í• ì„ ëª…í™•íˆ ë¶„ë¦¬
- **ì¬ì‚¬ìš©ì„± í™•ë³´**: ë™ì¼í•œ ë¡œì§ì„ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì»¤ìŠ¤í…€ í›… êµ¬ì¡° ì„¤ê³„
- **ë‹¨ë°©í–¥ ë°ì´í„° íë¦„**: `ë°ì´í„° â†’ API â†’ Hook â†’ Context â†’ UI`ë¡œ ì´ì–´ì§€ëŠ” ëª…í™•í•œ íë¦„ êµ¬ì¶•

## ğŸ—ï¸ 4ë‹¨ê³„ ë ˆì´ì–´ ì•„í‚¤í…ì²˜

ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìœ ì§€ë³´ìˆ˜ì„±ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ê³„ì¸µì„ ë‚˜ëˆ„ì–´ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

| ë‹¨ê³„           | ì—­í•               | ì£¼ìš” íŒŒì¼            | íŠ¹ì§•                                                     |
| :------------- | :---------------- | :------------------- | :------------------------------------------------------- |
| **1. Data**    | ìˆœìˆ˜ ë°ì´í„°       | `mockData.js`        | DB ì—°ë™ ì „ ì‚¬ìš©í•˜ëŠ” ë¶ˆë³€ ìˆœìˆ˜ JS ê°ì²´                    |
| **2. Network** | API ë¡œì§          | `memberApi.js`       | Promise ê¸°ë°˜ ê°€ìƒ ë¹„ë™ê¸° ì²˜ë¦¬ (ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì‹œë®¬ë ˆì´ì…˜) |
| **3. Hook**    | ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬ | `useFetchMembers.js` | ë°ì´í„° íŒ¨ì¹­ ë° ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬ í•µì‹¬ ì—”ì§„             |
| **4. Context** | ì „ì—­ ìƒíƒœ ê³µê¸‰    | `MemberContext.js`   | ì¤€ë¹„ëœ ìƒíƒœë¥¼ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•˜ëŠ” í†µë¡œ ì—­í•          |

## ğŸ§­ ë°ì´í„° íë¦„ (Data Flow)

1. **MockData**: ì‹¤ì œ ì„œë²„ë¥¼ ëŒ€ì‹ í•˜ëŠ” ìˆœìˆ˜ ë°ì´í„° ë ˆì´ì–´
2. **memberApi**: `setTimeout`ê³¼ `Promise`ë¡œ êµ¬í˜„ëœ ê°€ìƒ API ë ˆì´ì–´
3. **useFetchMembers**: APIë¥¼ í˜¸ì¶œí•˜ê³  ë¹„ë™ê¸° ìƒíƒœ(`data`, `isLoading`, `error`)ë¥¼ ìº¡ìŠí™”
4. **MemberContext & Provider**: `App.jsx`ì—ì„œ ë°ì´í„°ë¥¼ ì „ì—­ìœ¼ë¡œ ê³µê¸‰
5. **useMemberState (Consumer Hook)**: ì»´í¬ë„ŒíŠ¸ê°€ ì•ˆì „í•˜ê²Œ Contextë¥¼ ì†Œë¹„í•  ìˆ˜ ìˆë„ë¡ ë˜í•‘

## ğŸ’¡ í•µì‹¬ ì„¤ê³„ í¬ì¸íŠ¸

### 1. ì†Œë¹„ì ì „ìš© ì»¤ìŠ¤í…€ í›… (`useMemberState`)

- `useContext`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  ì „ìš© í›…ìœ¼ë¡œ ê°ì‹¸ **Provider ìœ íš¨ ë²”ìœ„ ë°”ê¹¥ì—ì„œì˜ í˜¸ì¶œì„ ë°©ì§€**í–ˆìŠµë‹ˆë‹¤.
- ì˜ëª»ëœ ì ‘ê·¼ ì‹œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ì—¬ ëŸ°íƒ€ì„ ì•ˆì •ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

```typescript
import { useContext } from "react";
import { MemberContext } from "../contexts/MemberContext";

export const useMemberState = () => {
  const contexts = useContext(MemberContext);
  if (contexts === null || contexts === undefined) {
    throw new Error(
      "context í• ë‹¹ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤, êµ¬ì¡° í™•ì¸ í›„ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì„¸ìš”,Providerì˜ ìœ íš¨ ë²”ìœ„ ë°”ê¹¥ì—ì„œ í˜¸ì¶œë¨"
    );
  }
  if (contexts.error) {
    window.alert("ë°ì´í„° ë¡œë”© ì‹¤íŒ¨..");
  }
  return {
    data: contexts.data,
    isLoading: contexts.isLoading,
  };
};
```

### 2. ë¹„ë™ê¸° ìƒíƒœì˜ ìº¡ìŠí™” (`useFetchMembers`)

- ë¹„ë™ê¸° ìƒíƒœ(data, isLoading, error)ë¥¼ í•˜ë‚˜ë¡œ ìº¡ìŠí™”í•˜ì—¬ ê´€ë¦¬í•©ë‹ˆë‹¤.
- MockData â†’ memberApi â†’ useFetchMembers â†’ MemberContext â†’ useMemberStateë¡œ ì´ì–´ì§€ëŠ” ê²¬ê³ í•œ ë°ì´í„° í”Œë¡œìš°ë¥¼ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

```typescript
const useFetchMembers = () => {
  const [data, setData] = useState([]); //typescriptë¥¼ ëŒ€ë¹„í•œ ì´ˆê¸° ê°’ ì„¤ì •
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState("");

  useEffect(() => {
    const fetchData = async () => {
      try {
        const result = await fetchMembers();
        setData(result);
      } catch (err) {
        setError(err.message);
      } finally {
        setIsLoading(false);
      }
    };
    fetchData();
  }, []); //í˜„ì œëŠ” urlì´ ì—†ìœ¼ë¯€ë¡œ ì˜ì¡´ì„± ë°°ì—´ì€ ë¹ˆ ë°°ì—´ë¡œ ë‘ê³ , ì´ˆê¸° ë¡œë“œ ì‹œ 1íšŒ ì‹¤í–‰ì„ ëª…ì‹œì ìœ¼ë¡œ ë³´ì¥
  return { data, isLoading, error };
};
export default useFetchMembers;
```

### 3. íŒŒì¼ ìˆ˜ ì¦ê°€ < ì½”ë“œ ë³µì¡ë„ ê°ì†Œ

- ì—­í• ë³„ë¡œ íŒŒì¼ì„ ë¶„ë¦¬í•˜ì—¬ ì´ˆë°˜ íŒŒì¼ ìˆ˜ëŠ” ëŠ˜ì–´ë‚¬ìœ¼ë‚˜, íŠ¹ì • ë¡œì§(API ê²½ë¡œ ë“±) ìˆ˜ì • ì‹œ í•´ë‹¹ íŒŒì¼ë§Œ í™•ì¸í•˜ë©´ ë˜ëŠ” **ìœ ì§€ë³´ìˆ˜ íš¨ìœ¨ì„±**ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.

## ğŸ‘ ë¦¬íŒ©í† ë§ í›„ ì–»ì€ ì¥ì 

- **UI ì»´í¬ë„ŒíŠ¸ì˜ ë‹¨ìˆœí™”**: `Home.jsx`ëŠ” ì˜¤ì§ ë Œë”ë§ì—ë§Œ ì§‘ì¤‘í•˜ì—¬ ê°€ë…ì„±ì´ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.
- **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ í›…ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ ë…ë¦½ì ì¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.
- **êµì²´ ìš©ì´ì„±**: ì´í›„ ì‹¤ì œ DB ë„ì… ì‹œ API ë ˆì´ì–´ë§Œ êµì²´í•˜ë©´ ë‹¤ë¥¸ ì½”ë“œëŠ” ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

---

### ğŸ”— ê´€ë ¨ ê¸°ë¡ (Velog)

- [[React.js] :ì»¤ìŠ¤í…€ í›…ê³¼ ì»¤ìŠ¤í…€ í›…ì„ í™œìš©í•œ ëª¨ë“ˆì‹ ì•„í‚¤í…ì²˜ ì„¤ê³„](https://velog.io/@yun0-0514/React.js-%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%9B%85%EA%B3%BC-%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%9B%85%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%AA%A8%EB%93%88%EC%8B%9D-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%84%A4%EA%B3%84)
- [[React.js] :ì•„í‚¤í…ì²˜ ê¸°ë°˜ ì»¤ìŠ¤í…€ í›… êµ¬í˜„ ReactV1](https://velog.io/@yun0-0514/React.js-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B8%B0%EB%B0%98-%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%9B%85-%EA%B5%AC%ED%98%84-ReactV1)

---

**ë‹¤ìŒ ë‹¨ê³„ ì˜ˆê³ :** V1ì˜ í•œê³„(ë¦¬ë Œë”ë§ ìµœì í™” ë¶€ì¬, ìºì‹± ë¯¸ë¹„)ë¥¼ ë¶„ì„í•˜ê³ , `useReducer`ì™€ ìµœì í™” ê¸°ë²•ì„ ë„ì…í•œ **V2**ë¡œ ë°œì „ì‹œí‚µë‹ˆë‹¤.
